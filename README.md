# react-gift-goods-list

FE 카카오 선물하기 3주차 과제: API

## step1

- [x] 첨부된 oas.yaml 파일을 토대로 Request, Response Type을 정의해요.
- [x] React Query를 사용하지 말고 axios 를 사용해서 구현해요.
- [x] 첨부된 oas.yaml 파일과 목 API URL을 사용하여 API를 구현해요.
  - 메인 페이지 - Theme 카테고리 섹션
  - [x] /api/v1/themes API를 사용하여 Section을 구현해요.
  - 메인 페이지 - 실시간 급상승 선물랭킹 섹션
  - [x] /api/v1/ranking/products API를 사용하여 Section을 구현해요. (Axios 사용 가능)
  - [x] 필터 조건을 선택 하면 해당 조건에 맞게 API를 요청하여 보여지게 해요.
  - Theme 페이지 - header
  - [x] url의 pathParams와 /api/v1/themes API를 사용하여 Section을 구현해요.
  - [x] themeKey가 잘못 된 경우 메인 페이지로 연결해요.
  - Theme 페이지 - 상품 목록 섹션
  - [x] /api/v1/themes/{themeKey}/products API를 사용하여 상품 목록을 구현해요.
  - [x] API 요청 시 한번에 20개의 상품 목록이 내려오도록 해요.

## step2

- [x] 각 API에서 Loading 상태에 대한 UI 대응을 해요.
- [x] 데이터가 없는 경우에 대한 UI 대응을 해요.
- [x] Http Status에 따라 Error를 다르게 처리해요.

## step3

- [x] 스크롤을 내리면 추가로 데이터를 요청하여 보여지게 해요.
- [x] 1단계에서 구현한 API를 react-query를 사용해서 구현해봐요.

## 선택

- [ ] Suspense와 ErrorBoundary를 사용하여 선언적인 Data Fetch 방식으로 설계해요.

## step4

### 질문 1. CORS 에러는 무엇이고 언제 발생하는지 설명해주세요. 이를 해결할 수 있는 방법에 대해서도 설명해주세요.

CORS(Cross-Origin Resource Sharing) 에러는 브라우저가 다른 출처(도메인, 프로토콜, 포트)의 리소스에 접근할 때 발생한다. 이는 보안상의 이유로 웹 페이지가 다른 출처의 리소스에 무분별하게 접근하는 것을 방지하기 위해 생겼다. CORS 에러는 브라우저에서 발생하는 것이기 때문에 서버끼리의 통신에서는 발생하지 않는다. CORS 에러는 보통 클라이언트가 한 출처(http://example.com)에서 로드된 웹 페이지가 다른 출처(http://example.api.com)의 리소스에 접근하려고 할 때 발생한다.

CORS 에러를 해결할 수 있는 방법은 다음과 같다.

- 서버 측에서 헤더 설정:
  서버측에서 Access-Control-Allow-Origin 헤더에 명시한 출처에 한해 요청을 허용하도록 설정한다. 이때 \*를 사용하면 모든 출처에 대해 요청을 허용한다.

- 프록시 서버 사용:
  클라이언트와 타겟 서버 사이에 프록시 서버를 두어 같은 출처에서 요청을 보내는 것처럼 보이게 한다.

- 브라우저 설정:
  브라우저에서 CORS 에러를 무시하도록 설정한다.

대부분의 경우에는 서버 측에서 헤더 설정을 통해 CORS 에러를 해결 하는 것이 바람직해보인다.

### 질문 2. 비동기 처리 방법인 callback, promise, async await에 대해 각각 장단점과 함께 설명해주세요.

- Callback

  - 장점:
    - 구현이 간단하고, ECMAScript 5 이전의 환경에서도 사용할 수 있다.
    - 즉시 실행되어야 하는 함수에 유용합니다.
  - 단점:
    - 콜백 지옥(Callback Hell)이라고 불리는 중첩된 콜백 구조가 생기기 쉽습니다.
    - 에러 처리가 복잡할 수 있습니다.
    - 코드의 가독성이 떨어집니다.

- Promise

  - 장점:
    - 비동기 작업의 결과를 다루기 위한 일관된 API를 제공합니다.
    - .then(), .catch(), .finally() 메서드를 사용해 체인으로 연결할 수 있어 가독성이 좋습니다.
    - 에러 처리가 상대적으로 쉽습니다.
  - 단점:
    - 약간의 러닝 커브가 있습니다.
    - 코드가 여전히 복잡해질 수 있습니다(긴 체인).

- async/await

  - 장점:
    - 코드가 동기식 코드처럼 작성되므로 가독성이 매우 좋습니다.
    - try/catch 블록을 사용해 에러를 쉽게 처리할 수 있습니다.
    - Promise의 기능을 포함하면서도 더 직관적입니다.
  - 단점:
    - ECMAScript 2017 (ES8) 이후의 환경에서만 사용할 수 있습니다.
    - 많은 비동기 작업을 병렬로 실행할 때는 다소 불편할 수 있습니다.

### 질문 3. react query의 주요 특징에 대해 설명하고, queryKey는 어떤 역할을 하는지 설명해주세요.

- React Query의 주요 특징

  - 구조 : 문자열 또는 배열 형태로 사용되며, 배열을 사용하면 더 구체적인 식별이 가능함.
  - 데이터 페칭 및 캐싱 : 데이터를 자동으로 가져오고 캐싱하여 관리함.
  - 자동 리페칭 : 데이터의 상태가 변경되면 자동으로 다시 가져옴.
  - 백그라운드 업데이트 : 컴포넌트가 마운트될 때 백그라운드에서 데이터를 자동으로 업데이트함.
  - 쿼리 무효화 : 특정 이벤트 발생 시 쿼리를 무효화하고 데이터를 다시 가져옴.
  - 의존성 관리 : 의존성 배열을 통해 특정 값이 변경될 때만 리렌더링 트리거됨.

- queryKey의 역할

  - 식별자 역할 : 쿼리를 고유하게 식별하는 역할을 함.
  - 데이터 리페칭 : queryKey가 변경되면 자동으로 데이터를 다시 가져옴.
  - 구조 : 문자열 또는 배열 형태로 사용되며, 배열을 사용하면 더 구체적인 식별이 가능함.
